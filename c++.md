# c++常见问题

## c++的虚函数表是什么时候生成的？

	虚函数表会在遇到类的第一个非内联的虚方法定义时生成。
	
	因为c++的类是分成声明和定义两个部分的。
	声明写在头文件中，定义写在.cpp文件中。
	定义可以分多cpp文件来写，gcc又是以cpp文件做为编译单元的。
	因此如果gcc在编译两个cpp时都会生成虚函数表的话，就会导致链接时出现符号重复定义的错误。
	
	因此gcc提出了一个Key Function的概念————类的第一非内联虚方法。
	只有遇到Key Function的定义时才会生成虚方法表。
	


      
	
	
	
